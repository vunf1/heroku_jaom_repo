! function (e) {
  "use strict";
  e('a.js-scroll-trigger[href*="#"]:not([href="#"])').click(function () {
    if (location.pathname.replace(/^\//, "") == this.pathname.replace(/^\//, "") && location.hostname == this.hostname) {
      var t = e(this.hash);
      if ((t = t.length ? t : e("[name=" + this.hash.slice(1) + "]")).length)
        return e("html, body").animate({
          scrollTop: t.offset().top
        }, 1e3, "easeInOutExpo"), !1
    }
  }), e(".js-scroll-trigger").click(function () {
    e(".navbar-collapse").collapse("hide")
  }), e("body").scrollspy({
    target: "#sideNav"
  })
}(jQuery);



let SERVER_LANGUAGE = "eng";
const SERVERADDRESS = "https://vunf1.coventry.domains"
$(".transLogo").click(function (event) {
  /*Evento para  clique da imagem das bandeiras*/
  var name = event.target.id;

  $(".topFlag").css("visibility", "visible");
  $('.menuTri').attr("id", "off");
  loadPage(name);
});

$(".menuTri").click(function (event) {
  /*Evento para  clique da imagem das bandeiras*/
  var name = event.target.id;

  $(".topFlag").css("visibility", "visible");
  if (name === "off") {
    $(".topFlag").css("visibility", "hidden");
    $('.menuTri').attr("id", "on");

  } else if (name === "on") {
    $(".topFlag").css("visibility", "visible");
    $('.menuTri').attr("id", "off");

  } else {
    $(".topFlag").css("visibility", "visible");
    $('.menuTri').attr("id", "off");

  }
});

function loadPage(name) {
  /*Carregamento da pagina dinamicamente consoante a lingua desejada*/
  alertify.maxLogItems(1); // reset every allertify log << 1
  if (name === "pt") {
    SERVER_LANGUAGE = name
    alertify.log("A Carregar Língua Portuguesa");
  }
  if (name === "eng") {
    SERVER_LANGUAGE = name
    alertify.log("Loading English");
  }
  $.ajax({
    url: "/" + SERVER_LANGUAGE + ".php",
    method: "POST",
    dataType: 'text',
    data: '',
    success: function (data) {
      $(".caixa").html('');

      if (name === "pt") {
        $(".navTitleTXT").html("Portefólio");
        $("#g_about").html("Sobre");
        $("#g_experience").html("Experiência");
        $("#g_education").html("Educação");
        $("#g_skills").html("Habilidades");
        $("#g_interests").html("Interesses");
        $("#g_awards").html("Certificações");
        $("#g_project").html("Projetos");
        $("#desigTXT").html("Desenhado por: ");

        alertify.logPosition("bottom right");
        alertify.success("Português Ativo");

        $(".caixa").html(data);
      }

      if (name === "eng") {
        $(".navTitleTXT").html("Portfolio");
        $("#g_about").html("About");
        $("#g_experience").html("Experience");
        $("#g_education").html("Education");
        $("#g_skills").html("Skills");
        $("#g_interests").html("Interests");
        $("#g_awards").html("Certifications");
        $("#g_project").html("Projects");
        $("#desigTXT").html("Designed by: ");

        alertify.logPosition("bottom right");
        alertify.success("English Activated");
        $(".caixa").html(data);
      }


    },
    error: function (xhr, status, error) {
      alert('Search Error: ' + xhr.status + ' - ' + error);
    },
  });



}

$(".loadDiv").click(function (event) {

  /*Evento para  clique para direcionar para a div sem incorporar #somethin na route estragando certos ajax's requests*/
  /**
   * JavaScript native to grab substring
   * Jquery Function  to do animation to DIV
   */


  $(".topFlag").css("visibility", "visible");
  $('.menuTri').attr("id", "off");
  var name = event.target.id;
  name = name.substring(2);

  $('html,body').animate({
    scrollTop: $("#" + name + "Title").offset().top
  }, 'slow');

  triggerDiv(name);

});

$(document).ready(function () {
  /**
   * Run IF header == HTTPS
   */
  if (window.location.href.includes("https://")) {
    $("#loading").css("display", "none");

    $(".transLogo").css("visibility", "visible");
    $("#profileIMG").css("visibility", "visible");
    loadPage("eng");


    $(".navTitleTXT").click(function () {
      $('.menuTri').attr("id", "off");

      $(".topFlag").css("visibility", "visible");
      $(window).scrollTop(0);
    });
    $(".profTop").click(function () {
      $('.menuTri').attr("id", "off");

      $(".topFlag").css("visibility", "visible");
      $(window).scrollTop(0);
    });


  } else {
    $("#sideNav").css("visibility", "hidden");
    $("#loading").css("visibility", "hidden");
    $(".profileIMG").css("filter", "blur(20px)");

    if (SERVER_LANGUAGE == "pt") {
      $("body").html("<div class='d-inline-flex p-2 alert alert-danger float-right' role='alert'>O conteúdo não será mostrado a menos que seja carregado corretamente <a href='https://vunf1.coventry.domains'> Clique aqui para corrigir </a></div>");
      alertify.alert("<h4 style='color:#ff0000'>Alerta !<h4><h5>O conteúdo deste Portefólio não será mostrado se não estiver no modo de segurança</h5><a href='https://vunf1.coventry.domains'> Click here to fix</a> <h5 style='color:#aabbcc'>Obrigado</h5>");
      $(".ok").remove();

    } else {
      $("body").html("<div class='d-inline-flex p-2  alert alert-danger float-right' role='alert'>Content will not be shown unless loaded correctly <a href='https://vunf1.coventry.domains'> Click here to fix</a></div>");
      alertify.alert("<h4 style='color:#ff0000'>Allert !<h4><h5>The content of this Portfolio will not be shown if not in safe mode </h5><a href='https://vunf1.coventry.domains'> Click here to fix</a> <h5 style='color:#aabbcc'>Thank You</h5>");
      $(".ok").remove();
    }


  }
});

    $("#darkMode").click(function (event) {
      var name = event.target.id;
      if (name == "OFF") {
        $(".darkModebtn").html("ON");
        $(".transLogo").css("visibility", "visible");
        $("#htmL").css("background-color", "darkgrey");
        darkTheme("on");

        $('.darkModebtn').attr("id", "ON");

      } else if(name == "ON") {
        $(".darkModebtn").html("OFF");
        $("#htmL").css("background-color", "white");
        darkTheme("off");

        $('.darkModebtn').attr("id", "OFF");
      }
    });
function darkTheme(status) {
  if (status == "on") {


    $(".subheading").css("color", "crimson");//red
    $(".text-primary").css("color", "crimson");//red

    $(".caixa").css("background-color", "darkgray");
    $("#page-top").css("background-color", "darkgray");

    $(".navbarColor").removeClass("bg-primary");
    $(".navbarColor").addClass("bg-dark");

    $("#darkMode").css("color", "#00247d");

    $("#darkModebtn").removeClass("text-white");
    $("#darkModebtn").addClass("text-success");

    $(".topIcon").css("color", "#343a40");

    $(".navbar-toggler").css("color", "#e9ecef");

    $("#darkMode").css("color", "#e9ecef");
    $("#btn_location_pt").removeClass("btn-success");
    $("#btn_location_pt").addClass("bg-warning");

    $("li").css("color", "#000000");
    $("html").css("background-color", "darkgray");
    
    alertify.success('Dark Mode - ON');

  } else {
    alertify.log('Dark Mode - OFF');


    $(".subheading").css("color", "#009933");//green
    $(".text-primary").css("color", "#bd5d38");//red

    $("#darkMode").css("color", "rgb(52, 58, 64)");
    $(".caixa").css("background-color", "white");
    $("html").css("background-color", "white");
    $("#page-top").css("background-color", "white");

    $(".navbarColor").removeClass("bg-dark");
    $(".navbarColor").addClass("bg-primary");

    $("#darkMode").css("color", "#343a40");

    $("#darkModebtn").removeClass("text-success");
    $("#darkModebtn").addClass("text-white");

    $(".topIcon").css("color", "#009933");
    
    $(".navbar-toggler").css("color", "#495057");

    $("#btn_location_pt").removeClass("bg-warning");
    $("#btn_location_pt").addClass("btn-success");

    $("li").css("color", "#009933");
  }

}

function rooty(language) { //load root folder into Dialog modal
  /*$.get( "https://vunf1.coventry.domains/root_folder_project/root.php", function( data ) {
    console.log(data);
    alertify.alert(data, function(){ alertify.success('Checked');
    });     
  });*/
  const fetchPage = language === "eng" ? "/root_eng.php" : "/root_pt.php"
  $.ajax({
    url: fetchPage,
    method: "POST",
    success: function (data) {
      alertify.alert(data, function () {
        alertify.success(language == "eng" ? "Root Folder - Checked" : "Pasta Raiz - Verificada");
      });

    },
    error: function (xhr, status, error) {
      alert('Page error: ' + xhr.status + ' - ' + error);
    }
  });
};



/* Copyright (c) 2009 Brandon Aaron (http://brandonaaron.net)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 *
 * Version: 3.0.2
 * 
 * Requires: 1.2.2+
 */
/*(function(c){var a=["DOMMouseScroll","mousewheel"];c.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var d=a.length;d;){this.addEventListener(a[--d],b,false)}}else{this.onmousewheel=b}},teardown:function(){if(this.removeEventListener){for(var d=a.length;d;){this.removeEventListener(a[--d],b,false)}}else{this.onmousewheel=null}}};c.fn.extend({mousewheel:function(d){return d?this.bind("mousewheel",d):this.trigger("mousewheel")},unmousewheel:function(d){return this.unbind("mousewheel",d)}});function b(f){var d=[].slice.call(arguments,1),g=0,e=true;f=c.event.fix(f||window.event);f.type="mousewheel";if(f.wheelDelta){g=f.wheelDelta/120}if(f.detail){g=-f.detail/3}d.unshift(f,g);return c.event.handle.apply(this,d)}})(jQuery);
 */
/*
The following not-working code is from:
http://stackoverflow.com/questions/1326570/how-to-disable-browser-or-element-scrollbar-but-let-scrolling-with-wheel-or-arro*/
/*
$("section").bind("mousewheel",function(ev, delta) {
    var scrollTop = $(this).scrollTop();
    $(this).scrollTop(scrollTop-Math.round(delta * 20));
});
*/


function triggerDiv(id) {

  
  var element = document.getElementById(id);
  if (element.style.display === "none") {
    element.style.display = "block";

    $(".lineBreak_" + id).css("visibility", "hidden");

    $("#" + id + "Title").addClass("alert alert-success");
  } else {
    $("#" + id + "Title").removeClass("alert alert-success");
    element.style.display = "none";
    $(".lineBreak_" + id).css("visibility", "visible");
    $(".transLogo").css("visibility", "visible");
    $(".topFlag").css("visibility", "visible");
  }
};

function onRootOFF(folderName) {
  const listOfFiles = ['Project_Nexus', 'RWP_releaseVersion.apk', 'JARcase_Study_Coursework.zip', 'vbNet_Software_2016.zip', ];
  if (listOfFiles.contain(folderName)) {

    if (folderName == "Project_Nexus") {
      alertify.message('Loading...' + folderName + ' ');

      window.location.replace("https://" + SERVERADDRESS + "/projects/" + folderName + "/index.php");

    } else {
      alertify.message('Loading..'+folderName+'. APK');
      window.location.replace("https://" + SERVERADDRESS + "/projects/" + folderName);
    }
  } else {  
    alertify.alert("Project Does not exist")
  }
};

$("#detail4info").on("change keyup paste", function(){
  console.log("data",this);
})
$( "#info" ).keyup(function() {
  console.log("data",this);
});


$(".open").click(function (event) {

})

